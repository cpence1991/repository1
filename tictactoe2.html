<html>
    <head>
        <title>TIC-TAC-TOE (VS COMPUTER)</title>
        <meta name="viewport" content="width=device-width, initial-scale=1"/>
    <style>
        .cell {
            width:120px;    
            height:120px;
            border: 1px solid #000000;
            background: #FFFFFF;
            font-size: 56pt;
            font-family: arial;
            font-weight: bold;
            text-align: center;
            }
            .cell:hover {
            background: #C2DBFC;
            }
            #board{
                position:absolute;
                left:500;
            }
            body{
                text-align: center;
            }
    </style>
    <script>
        var block=false;
        var grid=new Array(3);
        var win=false;
        grid[0]=new Array(3);
        grid[1]=new Array(3);
        grid[2]=new Array(3);
        for(var i=0; i<=2;i++){
            for(var j=0; j<=2;j++){
                grid[i][j]=0;
            }
        }
        var moves=0;
        function clickCell(x,y){
            if(win==true){
                alert("Please Reset to Play Again!");
            }
            else if(grid[x][y]>0){
                alert("Cell is not empty\nPlease choose another");
            }
            else{
                    document.getElementById("cell_"+x+"_"+y).innerHTML="X";
                    grid[x][y]=1;
                    moves++;
                    checkWin();
                    if(win!=true){
                    compTurn();
                    moves++;
                    }
                }
        }
        function compTurn() {
//Row 0            
            if((grid[0][0]==1)&&(grid[0][1]==1)){
                if(grid[0][2]==0){
                    x=0; 
                    y=2;
                }
                else{
                    x=Math.floor(Math.random() * Math.floor(3));
                    y=Math.floor(Math.random() * Math.floor(3));} 
            }
            else if((grid[0][0]==1)&&(grid[0][2]==1)){
                if(grid[0][1]==0){
                    x=0; 
                    y=1;
                }
                else{
                    x=Math.floor(Math.random() * Math.floor(3));
                    y=Math.floor(Math.random() * Math.floor(3));} 
            }
            else if((grid[0][1]==1)&&(grid[0][2]==1)){
                if(grid[0][0]==0){
                    x=0; 
                    y=0;
                }
                else{
                    x=Math.floor(Math.random() * Math.floor(3));
                    y=Math.floor(Math.random() * Math.floor(3));} 
            }
//Row 1            
            else if((grid[1][0]==1)&&(grid[1][1]==1)){
                if(grid[1][2]==0){
                    x=1; 
                    y=2;
                }
                else{
                    x=Math.floor(Math.random() * Math.floor(3));
                    y=Math.floor(Math.random() * Math.floor(3));} 
            }
            else if((grid[1][0]==1)&&(grid[1][2]==1)){
                if(grid[1][1]==0){
                    x=1; 
                    y=1;
                }
                else{
                    x=Math.floor(Math.random() * Math.floor(3));
                    y=Math.floor(Math.random() * Math.floor(3));} 
            }
            else if((grid[1][1]==1)&&(grid[1][2]==1)){
                if(grid[1][0]==0){
                    x=1; 
                    y=0;
                }
                else{
                    x=Math.floor(Math.random() * Math.floor(3));
                    y=Math.floor(Math.random() * Math.floor(3));} 
            }
//Row 2
            else if((grid[2][0]==1)&&(grid[2][1]==1)){
                if(grid[2][2]==0){
                    x=2; 
                    y=2;
                }
                else{
                    x=Math.floor(Math.random() * Math.floor(3));
                    y=Math.floor(Math.random() * Math.floor(3));} 
            } 
            else if((grid[2][0]==1)&&(grid[2][2]==1)){
                if(grid[2][1]==0){
                    x=2; 
                    y=1;
                }
                else{
                    x=Math.floor(Math.random() * Math.floor(3));
                    y=Math.floor(Math.random() * Math.floor(3));} 
            }
            else if((grid[2][1]==1)&&(grid[2][2]==1)){
                if(grid[2][0]==0){
                    x=2; 
                    y=0;
                }
                else{
                    x=Math.floor(Math.random() * Math.floor(3));
                    y=Math.floor(Math.random() * Math.floor(3));} 
            }
//Col 0
            else if((grid[0][0]==1)&&(grid[1][0]==1)){
                if(grid[2][0]==0){
                    x=2; 
                    y=0;
                }
                else{
                    x=Math.floor(Math.random() * Math.floor(3));
                    y=Math.floor(Math.random() * Math.floor(3));} 
            }
            else if((grid[0][0]==1)&&(grid[2][0]==1)){
                if(grid[1][0]==0){
                    x=1; 
                    y=0;
                }
                else{
                    x=Math.floor(Math.random() * Math.floor(3));
                    y=Math.floor(Math.random() * Math.floor(3));} 
            }
            else if((grid[1][0]==1)&&(grid[2][0]==1)){
                if(grid[0][0]==0){
                    x=0; 
                    y=0;
                }
                else{
                    x=Math.floor(Math.random() * Math.floor(3));
                    y=Math.floor(Math.random() * Math.floor(3));} 
            }
//Col 1            
            else if((grid[0][1]==1)&&(grid[1][1]==1)){
                if(grid[2][1]==0){
                    x=2; 
                    y=1;
                }
                else{
                    x=Math.floor(Math.random() * Math.floor(3));
                    y=Math.floor(Math.random() * Math.floor(3));} 
            }
            else if((grid[0][1]==1)&&(grid[2][1]==1)){
                if(grid[1][1]==0){
                    x=1; 
                    y=1;
                }
                else{
                    x=Math.floor(Math.random() * Math.floor(3));
                    y=Math.floor(Math.random() * Math.floor(3));} 
            }
            else if((grid[1][1]==1)&&(grid[2][1]==1)){
                if(grid[0][1]==0){
                    x=0; 
                    y=1;
                }
                else{
                    x=Math.floor(Math.random() * Math.floor(3));
                    y=Math.floor(Math.random() * Math.floor(3));} 
            }
//Col 2
    else if((grid[0][2]==1)&&(grid[1][2]==1)){
                if(grid[2][2]==0){
                    x=2; 
                    y=2;
                }
                else{
                    x=Math.floor(Math.random() * Math.floor(3));
                    y=Math.floor(Math.random() * Math.floor(3));} 
            }
            else if((grid[0][2]==1)&&(grid[2][2]==1)){
                if(grid[1][2]==0){
                    x=1; 
                    y=2;
                }
                else{
                    x=Math.floor(Math.random() * Math.floor(3));
                    y=Math.floor(Math.random() * Math.floor(3));} 
            }
            else if((grid[1][2]==1)&&(grid[2][2]==1)){
                if(grid[0][2]==0){
                    x=0; 
                    y=2;
                }
                else{
                    x=Math.floor(Math.random() * Math.floor(3));
                    y=Math.floor(Math.random() * Math.floor(3));} 
            }
//Diagonals
            else if((grid[0][0]==1)&&(grid[1][1]==1)){
                if(grid[2][2]==0){
                    x=2; 
                    y=2;
                }
                else{
                    x=Math.floor(Math.random() * Math.floor(3));
                    y=Math.floor(Math.random() * Math.floor(3));} 
            }
            else if((grid[1][1]==1)&&(grid[2][2]==1)){
                if(grid[0][0]==0){
                    x=0; 
                    y=0;
                }
                else{
                    x=Math.floor(Math.random() * Math.floor(3));
                    y=Math.floor(Math.random() * Math.floor(3));} 
            }
            else if((grid[0][0]==1)&&(grid[2][2]==1)){
                if(grid[1][1]==0){
                    x=0; 
                    y=0;
                }
                else{
                    x=Math.floor(Math.random() * Math.floor(3));
                    y=Math.floor(Math.random() * Math.floor(3));} 
            }
            else if((grid[0][2]==1)&&(grid[1][1]==1)){
                if(grid[2][0]==0){
                    x=2; 
                    y=0;
                }
                else{
                    x=Math.floor(Math.random() * Math.floor(3));
                    y=Math.floor(Math.random() * Math.floor(3));} 
            }
            else if((grid[0][2]==1)&&(grid[2][0]==1)){
                if(grid[1][1]==0){
                    x=1; 
                    y=1;
                }
                else{
                    x=Math.floor(Math.random() * Math.floor(3));
                    y=Math.floor(Math.random() * Math.floor(3));} 
            }
            else if((grid[2][0]==1)&&(grid[1][1]==1)){
                if(grid[0][1]==0){
                    x=0; 
                    y=2;
                }
                else{
                    x=Math.floor(Math.random() * Math.floor(3));
                    y=Math.floor(Math.random() * Math.floor(3));} 
            }            
            else{x=Math.floor(Math.random() * Math.floor(3));
            y=Math.floor(Math.random() * Math.floor(3));} 
            if(grid[x][y]!=0)
                compTurn();
            else{
            document.getElementById("cell_"+x+"_"+y).innerHTML="O";
            grid[x][y]=2;
            }
            checkWin();
        }
// expected output: 0, 1 or 2
        function reset() {
            for (var i=0; i<=2; i++) {
            for (var j=0; j<=2; j++) {
            grid[i][j]=0;
            document.getElementById("cell_"+i+"_"+j).innerHTML="&nbsp;";
            document.getElementById("cell_"+i+"_"+j).style.background="white";
                }
            }
            moves=0;
            win=false;
            document.getElementById("turn").innerHTML="";
            location.reload();
        }
        function checkWin(){
 //Horizontal
            if((grid[0][0]==1)&&(grid[0][1]==1)&&(grid[0][2]==1)){
                document.getElementById("turn").innerHTML="<h4>YOU WIN!</h4><h3>Reset To Play Again!</h3>";
                document.getElementById("cell_0_0").style.background = "green";
                document.getElementById("cell_0_1").style.background = "green";
                document.getElementById("cell_0_2").style.background = "green";
                win=true;    
            }
            else if((grid[1][0]==1)&&(grid[1][1]==1)&&(grid[1][2]==1)){
                document.getElementById("turn").innerHTML="<h4>YOU WIN!</h4><h3>Reset To Play Again!</h3>";
                document.getElementById("cell_1_0").style.background = "green";
                document.getElementById("cell_1_1").style.background = "green";
                document.getElementById("cell_1_2").style.background = "green";
                win=true;
            }
            else if((grid[2][0]==1)&&(grid[2][1]==1)&&(grid[2][2]==1)){
                document.getElementById("turn").innerHTML="<h4>YOU WIN!</h4><h3>Reset To Play Again!</h3>";
                document.getElementById("cell_2_0").style.background = "green";
                document.getElementById("cell_2_1").style.background = "green";
                document.getElementById("cell_2_2").style.background = "green";
                win=true; 
            }
            else if((grid[0][0]==2)&&(grid[0][1]==2)&&(grid[0][2]==2)){
                document.getElementById("turn").innerHTML="<h4>I WIN!</h4><h3>Reset To Play Again!</h3>";
                document.getElementById("cell_0_0").style.background = "red";
                document.getElementById("cell_0_1").style.background = "red";
                document.getElementById("cell_0_2").style.background = "red";
                win=true; 
            }
            else if((grid[1][0]==2)&&(grid[1][1]==2)&&(grid[1][2]==2)){
                document.getElementById("turn").innerHTML="<h4>I WIN!</h4><h3>Reset To Play Again!</h3>";
                document.getElementById("cell_1_0").style.background = "red";
                document.getElementById("cell_1_1").style.background = "red";
                document.getElementById("cell_1_2").style.background = "red";
                win=true; 
            }
            else if((grid[2][0]==2)&&(grid[2][1]==2)&&(grid[2][2]==2)){
                document.getElementById("turn").innerHTML="<h4>I WIN!</h4><h3>Reset To Play Again!</h3>";    
                document.getElementById("cell_2_0").style.background = "red";
                document.getElementById("cell_2_1").style.background = "red";
                document.getElementById("cell_2_2").style.background = "red";
                win=true; 
            }
//vertical
            else if((grid[0][0]==1)&&(grid[1][0]==1)&&(grid[2][0]==1)){
                document.getElementById("turn").innerHTML="<h4>YOU WIN!</h4><h3>Reset To Play Again!</h3>";
                document.getElementById("cell_0_0").style.background = "green";
                document.getElementById("cell_1_0").style.background = "green";
                document.getElementById("cell_2_0").style.background = "green";
                win=true; 
            }
            else if((grid[0][1]==1)&&(grid[1][1]==1)&&(grid[2][1]==1)){
                document.getElementById("turn").innerHTML="<h4>YOU WIN!</h4><h3>Reset To Play Again!</h3>";
                document.getElementById("cell_0_1").style.background = "green";
                document.getElementById("cell_1_1").style.background = "green";
                document.getElementById("cell_2_1").style.background = "green";
                win=true; 
            }
            else if((grid[0][2]==1)&&(grid[1][2]==1)&&(grid[2][2]==1)){
                document.getElementById("turn").innerHTML="<h4>YOU WIN!</h4><h3>Reset To Play Again!</h3>";
                document.getElementById("cell_0_2").style.background = "green";
                document.getElementById("cell_1_2").style.background = "green";
                document.getElementById("cell_2_2").style.background = "green";
                win=true; 
            }
            else if((grid[0][0]==2)&&(grid[1][0]==2)&&(grid[2][0]==2)){
                document.getElementById("turn").innerHTML="<h4>I WIN!</h4><h3>Reset To Play Again!</h3>";
                document.getElementById("cell_0_0").style.background = "red";
                document.getElementById("cell_1_0").style.background = "red";
                document.getElementById("cell_2_0").style.background = "red";
                win=true; 
            }
            else if((grid[0][1]==2)&&(grid[1][1]==2)&&(grid[2][1]==2)){
                document.getElementById("turn").innerHTML="<h4>I WIN!</h4><h3>Reset To Play Again!</h3>";
                document.getElementById("cell_0_1").style.background = "red";
                document.getElementById("cell_1_1").style.background = "red";
                document.getElementById("cell_2_1").style.background = "red";
                win=true; 
            }
            else if((grid[0][2]==2)&&(grid[1][2]==2)&&(grid[2][2]==2)){
                document.getElementById("turn").innerHTML="<h4>I WIN!</h4><h3>Reset To Play Again!</h3>";
                document.getElementById("cell_0_2").style.background = "red";
                document.getElementById("cell_1_2").style.background = "red";
                document.getElementById("cell_2_2").style.background = "red";
                win=true;
            }   
//diagonal
            else if((grid[0][0]==1)&&(grid[1][1]==1)&&(grid[2][2]==1)){
                document.getElementById("turn").innerHTML="<h4>YOU WIN!</h4><h3>Reset To Play Again!</h3>";
                document.getElementById("cell_0_0").style.background = "green";
                document.getElementById("cell_1_1").style.background = "green";
                document.getElementById("cell_2_2").style.background = "green";
                win=true;
                }
            else if((grid[0][0]==2)&&(grid[1][1]==2)&&(grid[2][2]==2)){
                document.getElementById("turn").innerHTML="<h4>I WIN!</h4><h3>Reset To Play Again!</h3>";
                document.getElementById("cell_0_0").style.background = "red";
                document.getElementById("cell_1_1").style.background = "red";
                document.getElementById("cell_2_2").style.background = "red";
                win=true;
                }
            else if((grid[0][2]==1)&&(grid[1][1]==1)&&(grid[2][0]==1)){
                document.getElementById("turn").innerHTML="<h4>YOU WIN!</h4><h3>Reset To Play Again!</h3>";
                document.getElementById("cell_0_2").style.background = "green";
                document.getElementById("cell_1_1").style.background = "green";
                document.getElementById("cell_2_0").style.background = "green";
                win=true; 
                }
            else if((grid[0][2]==2)&&(grid[1][1]==2)&&(grid[2][0]==2)){
                document.getElementById("turn").innerHTML="<h4>I WIN!</h4><h3>Reset To Play Again!</h3>";
                document.getElementById("cell_0_2").style.background = "red";
                document.getElementById("cell_1_1").style.background = "red";
                document.getElementById("cell_2_0").style.background = "red";
                win=true; }

//Draw
            else if(moves==9){
                document.getElementById("turn").innerHTML="<h4>DRAW!</h4><h3>Reset To Play Again!</h3>";
                for (var i=0; i<=2; i++) {
            for (var j=0; j<=2; j++) {
            document.getElementById("cell_"+i+"_"+j).style.background="red";
            win=true; 
                                    }    
                                }
                        }
        }
    </script>
    </head>
    <body>
        <h2>TIC-TAC-TOE (VS COMPUTER)</h2>
        <h3>Click a cell to make your mark</h3>
        <h4 id="turn"></h4>
        <div id="board" style="background-color:#000000;height:368; width:360; 
    border:1px solid black; text-align:center;">
        <table>
            <tr>
            <td id="cell_0_0" class="cell" onClick="JavaScript:clickCell(0,0);">&nbsp;</td>
            <td id="cell_0_1" class="cell" onClick="JavaScript:clickCell(0,1);">&nbsp;</td>
            <td id="cell_0_2" class="cell" onClick="JavaScript:clickCell(0,2);">&nbsp;</td>
            </tr>
            <tr>
                <td id="cell_1_0" class="cell" onClick="JavaScript:clickCell(1,0);">&nbsp;</td>
                <td id="cell_1_1" class="cell" onClick="JavaScript:clickCell(1,1);">&nbsp;</td>
                <td id="cell_1_2" class="cell" onClick="JavaScript:clickCell(1,2);">&nbsp;</td>
            </tr>
            <tr>
                <td id="cell_2_0" class="cell" onClick="JavaScript:clickCell(2,0);">&nbsp;</td>
                <td id="cell_2_1" class="cell" onClick="JavaScript:clickCell(2,1);">&nbsp;</td>
                <td id="cell_2_2" class="cell" onClick="JavaScript:clickCell(2,2);">&nbsp;</td>
            </tr>
        </table>
        <br>
        <input type="button" onclick="Javascript: reset();" value="Reset">
        </div>
    </body>
    
</html>